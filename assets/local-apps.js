(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[33],{245:function(e,t,i){"use strict";i.r(t)},376:function(e){const t={initialized:!1,lastHeight:0,lastWidth:0,lastViewportHeight:0,lastScrollY:0,elements:new Map,timeouts:new Set,measurementRetries:0,lastHeaderHeight:0,lastTopPosition:0,lastAsideHeight:"",measurementHistory:[],isResizing:!1,resizeStartTime:0},i=e=>{if(!t.elements.has(e)){const i=document.getElementById(e);return i&&t.elements.set(e,i),i}return t.elements.get(e)},n=(e,i,n=!1)=>{let s;return(...o)=>{const a=n&&!s;clearTimeout(s),s=setTimeout((()=>{s=null,n||e(...o)}),i),t.timeouts.add(s),a&&e(...o)}},s=()=>{if(window.visualViewport)return[Math.round(window.visualViewport.width),Math.round(window.visualViewport.height)];return[Math.round(window.innerWidth||document.documentElement.clientWidth),Math.round(window.innerHeight||document.documentElement.clientHeight)]},o=()=>{const e=i("local-announcements"),n=i("local-topnavs");if(!e&&!n)return 0;let s=0,o="default";if(e&&n){const t=e.getBoundingClientRect(),i=n.getBoundingClientRect();(t.height>0||i.height>0)&&(s=Math.max(t.bottom,i.bottom),o="getBoundingClientRect")}else if(e){const t=e.getBoundingClientRect();t.height>0&&(s=t.bottom,o="announcement-only")}else if(n){const e=n.getBoundingClientRect();e.height>0&&(s=e.bottom,o="topnav-only")}if(s<=0)if(e&&n){const t=e.offsetHeight,i=n.offsetHeight,a=e.offsetTop,l=n.offsetTop;(t>0||i>0)&&(s=Math.max(a+t,l+i),o="offsetHeight-fallback")}else e?(s=e.offsetTop+e.offsetHeight,o="announcement-offset"):n&&(s=n.offsetTop+n.offsetHeight,o="topnav-offset");if(s<=0&&e&&n){const t=window.getComputedStyle(e),i=window.getComputedStyle(n),a=parseFloat(t.height)||0,l=parseFloat(i.height)||0;(a>0||l>0)&&(s=Math.max(a,l),o="computed-style")}const a=Math.max(0,Math.round(s));return t.measurementHistory.push({timestamp:Date.now(),height:a,method:o,announcement:!!e,topnav:!!n}),t.measurementHistory.length>10&&t.measurementHistory.shift(),a},a=(e=!1)=>{const[n,l]=s(),r=Math.round(window.pageYOffset||document.documentElement.scrollTop),d=Math.abs(t.lastWidth-n),c=Math.abs(t.lastViewportHeight-l),u=Math.abs(t.lastScrollY-r),m=t.isResizing?1:2,h=t.isResizing?3:5,f=t.isResizing?3:5;if(!e&&d<m&&c<h&&u<f)return;const g=o();if(g<=0&&(i("local-announcements")||i("local-topnavs"))){if(t.measurementRetries<8){t.measurementRetries++;const i=Math.min(50*Math.pow(2,t.measurementRetries-1),800),n=setTimeout((()=>{t.measurementRetries=0,a(e)}),i);return void t.timeouts.add(n)}t.measurementRetries=0}else t.measurementRetries=0;t.lastHeight=g,t.lastWidth=n,t.lastViewportHeight=l,t.lastScrollY=r,t.lastHeaderHeight=g;const w=Math.max(0,g),p=`calc(100dvh - ${w}px)`;if(t.lastTopPosition!==w||t.lastAsideHeight!==p){document.documentElement.style.setProperty("--aside-top-position",`${w}px`),document.documentElement.style.setProperty("--aside-height",p),t.lastTopPosition=w,t.lastAsideHeight=p;const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){e[t].classList.add("aside--positioned")}}},l=()=>{const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){const i=e[t],n=i.getAttribute("data-sidenav");i.classList.remove("aside--open"),i.classList.add("left"===n?"aside--closed-left":"aside--closed-right")}let i=0;const n=()=>{a(!0);if(o()<=0&&i<8){i++;const e=Math.min(100*Math.pow(2,i-1),1e3),s=setTimeout(n,e);return void t.timeouts.add(s)}t.initialized=!0,r();[50,150,300,500].forEach(((e,i)=>{const n=setTimeout((()=>{a(!0)}),e);t.timeouts.add(n)}))};n()},r=()=>{document.addEventListener("click",d)},d=e=>{const t=e.target;if(t.closest('button[aside-action="close"]')){e.preventDefault();const i=t.closest("aside");if(!i)return;return void requestAnimationFrame((()=>{const e=i.getAttribute("data-sidenav");i.classList.remove("aside--open"),i.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}))}const i=t.closest('[aside-action="open"]');if(i){e.preventDefault();const t=i.getAttribute("aside-id"),n=document.getElementById(t);if(!n)return;requestAnimationFrame((()=>{const e=document.querySelectorAll("aside");for(let i=0;i<e.length;i++){const n=e[i];if(n.id!==t){const e=n.getAttribute("data-sidenav");n.classList.remove("aside--open"),n.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}}n.classList.remove("aside--closed-left","aside--closed-right"),n.classList.add("aside--open")}))}!m()||t.closest("aside")||t.closest('[aside-action="open"]')||(e.preventDefault(),requestAnimationFrame((()=>{const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){const i=e[t];if(i.classList.contains("aside--open")){const e=i.getAttribute("data-sidenav");i.classList.remove("aside--open"),i.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}}})))},c=n((()=>{t.initialized&&(t.isResizing=!0,t.resizeStartTime=Date.now(),requestAnimationFrame((()=>{a(!0);const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){const i=e[t];if(!i.classList.contains("aside--open")){const e=i.getAttribute("data-sidenav");i.classList.remove("aside--open"),i.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}}setTimeout((()=>{t.isResizing=!1}),500)})))}),50),u=n((()=>{if(!t.initialized)return;const[e,i]=s(),n=Math.round(window.pageYOffset||document.documentElement.scrollTop),o=Math.abs(t.lastWidth-e),l=Math.abs(t.lastViewportHeight-i),r=Math.abs(t.lastScrollY-n),d=t.isResizing?1:2,c=t.isResizing?3:5,u=t.isResizing?3:5;(o>d||l>c||r>u)&&requestAnimationFrame((()=>a(!0)))}),25),m=()=>{const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++)if(e[t].classList.contains("aside--open"))return!0;return!1},h=()=>{t.elements.clear(),t.timeouts.forEach(clearTimeout),t.timeouts.clear(),t.initialized=!1,t.lastHeight=0,t.lastWidth=0,t.lastViewportHeight=0,t.lastScrollY=0,t.measurementRetries=0,t.lastHeaderHeight=0,t.lastTopPosition=0,t.lastAsideHeight="",t.measurementHistory=[],t.isResizing=!1,t.resizeStartTime=0,document.removeEventListener("click",d),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",c),window.removeEventListener("scroll",u),window.visualViewport&&(window.visualViewport.removeEventListener("resize",u),window.visualViewport.removeEventListener("scroll",u))};window.addEventListener("beforeunload",h),window.addEventListener("resize",c),window.addEventListener("orientationchange",c),window.addEventListener("scroll",u),window.addEventListener("load",(()=>{const e=()=>{t.initialized&&a(!0)};[50,100,200,400,800,1200].forEach(((i,n)=>{const s=setTimeout(e,i);t.timeouts.add(s)}))})),window.visualViewport&&(window.visualViewport.addEventListener("resize",u),window.visualViewport.addEventListener("scroll",u),window.visualViewport.addEventListener("resize",(()=>{setTimeout((()=>a(!0)),25),setTimeout((()=>a(!0)),100)}))),window.addEventListener("focus",(()=>{t.initialized&&setTimeout((()=>a(!0)),100)})),window.addEventListener("blur",(()=>{t.initialized&&setTimeout((()=>a(!0)),100)})),e.exports={initAside:()=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()},cleanupAside:h}},547:function(e){const t={elements:new Map,scrollThreshold:16,isScrolled:!1},i=/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,!0)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function o(e,i=document){if(!t.elements.has(e)){const n=i.querySelector(e);return n&&t.elements.set(e,n),n}return t.elements.get(e)}function a(e){e.offsetHeight;const t=window.getComputedStyle(e),i=t.top;"sticky"===t.position&&(e.style.top=i)}function l(e,t){let i;return function(...n){clearTimeout(i),i=setTimeout((()=>{clearTimeout(i),e(...n)}),t)}}function r(){const e=o("#local-topnavs");if(e){e&&(t=e,(i||n)&&(t.style.webkitTransform="translateZ(0)",t.style.transform="translateZ(0)",t.style.webkitOverflowScrolling="touch",t.style.webkitTextSizeAdjust="100%",t.style.textSizeAdjust="100%"));const o=l((()=>{d()}),i?16:10),a=!!s&&{passive:!0};window.addEventListener("scroll",o,a),i&&window.addEventListener("orientationchange",l((()=>{setTimeout((()=>{d()}),100)}),300)),d()}var t}function d(){const e=(window.pageYOffset||document.documentElement.scrollTop)>t.scrollThreshold;if(e!==t.isScrolled){t.isScrolled=e;const i=o("#local-topnavs");i&&function(e,t){a(e),t?e.classList.add("scrolled"):e.classList.remove("scrolled");a(e)}(i,e)}}function c(){t.elements.clear()}window.addEventListener("beforeunload",c),i&&document.addEventListener("visibilitychange",(()=>{if(document.hidden){document.querySelectorAll("#local-topnavs").forEach((e=>{e.style.transition="none"}))}else{document.querySelectorAll("#local-topnavs").forEach((e=>{e.style.transition=""}))}})),e.exports={initNavigations:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{r()})):r()},cleanupNavigations:c}},628:function(e,t,i){"use strict";var n=i(547),s=i(376);i(245),(()=>{function e(){document.querySelectorAll('[data-class="animation"]').forEach(((e,t)=>{const i=parseInt(e.getAttribute("data-animation-time"))||3e3,n=e.querySelectorAll("small");if(n.length<=1)return;let s=0;n.forEach(((e,t)=>{e.style.opacity=0===t?"1":"0",e.style.transition="opacity 0.5s ease-in-out"}));setInterval((()=>{n[s].style.opacity="0",s=(s+1)%n.length,n[s].style.opacity="1"}),i)}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})(),(0,n.initNavigations)(),(0,s.initAside)()}},function(e){var t;t=628,e(e.s=t)}]);