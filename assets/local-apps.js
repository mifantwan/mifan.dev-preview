(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[33],{121:function(t){const n={elements:new Map,intervals:new Map};function e(t,e=document){if(!n.elements.has(t)){const a=e.querySelector(t);return a&&n.elements.set(t,a),a}return n.elements.get(t)}function a(){n.elements.clear(),n.intervals.clear()}function i(){const t=e("#local-announcement section div")?.offsetWidth,a=e('#local-announcement div[class-type="animation"]');if(a&&t)if(a.classList.remove("animation__text-scroll","animation__text-roll"),t<1024){a.classList.add("animation__text-scroll");const t=e("#local-announcement .animation__text-scroll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent;const i='<span style="margin-left: 1.766rem;"></span>';t.innerHTML=t.dataset.originalContent+i+t.dataset.originalContent;t.querySelectorAll("li").forEach((t=>{t.style.display="inline-flex",t.style.opacity="1",t.style.transform="",t.style.webkitTransform="",t.style.transition=""}));const s=t.dataset.containerId;s&&n.intervals.has(s)&&(clearInterval(n.intervals.get(s)),n.intervals.delete(s));const o=t.scrollWidth/2;if(o>t.parentElement.offsetWidth){const n=Math.max(15,Math.min(60,o/50));t.style.animation=`text-scroll ${n}s linear infinite`,t.style.webkitAnimation=`text-scroll ${n}s linear infinite`}else t.style.animation="none",t.style.webkitAnimation="none",t.innerHTML=t.dataset.originalContent}else{a.classList.add("animation__text-roll");const t=e("#local-announcement .animation__text-roll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent,t.style.animation="none",t.style.webkitAnimation="none";const i=t.dataset.containerId;i&&n.intervals.has(i)&&(clearInterval(n.intervals.get(i)),n.intervals.delete(i)),function(t){const e=t.querySelectorAll("li"),a=e.length;if(0===a)return;const i=t.dataset.containerId||Math.random().toString(36);t.dataset.containerId=i,n.intervals.has(i)&&clearInterval(n.intervals.get(i));const s=Array.from(e).map(((t,n)=>({element:t,index:n})));if(s.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",t.style.transform="translate3d(0, 20px, 0)",t.style.transition="opacity 0.6s ease-out, transform 0.6s ease-out",t.style.webkitTransform="translate3d(0, 20px, 0)"})),s[0]){const t=s[0].element;t.style.display="inline-flex",t.style.opacity="1",t.style.transform="translate3d(0, 0, 0)",t.style.webkitTransform="translate3d(0, 0, 0)"}let o=1;const l=setInterval((()=>{if(document.createDocumentFragment(),s.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",t.style.transform="translate3d(0, 20px, 0)",t.style.webkitTransform="translate3d(0, 20px, 0)"})),s[o]){const t=s[o].element;t.style.display="inline-flex",t.style.opacity="1",t.style.transform="translate3d(0, 0, 0)",t.style.webkitTransform="translate3d(0, 0, 0)"}o=(o+1)%a}),2e3);n.intervals.set(i,l)}(t)}}function s(){n.intervals.forEach((t=>{clearInterval(t)})),a()}function o(t,n){let e;return function(...a){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t(...a)}),n)}}t.exports={initAnnouncement:function(){const t=o(i,100);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",o((()=>{setTimeout(i,300)}),200)),window.addEventListener("beforeunload",s)},refreshAnnouncement:function(){const t=e("#local-announcement .animation__text-scroll div, #local-announcement .animation__text-roll div");t&&(delete t.dataset.originalContent,a(),i())},cleanupAnnouncement:s}},245:function(t,n,e){"use strict";e.r(n)},731:function(t,n,e){"use strict";var a=e(121);e(245),(0,a.initAnnouncement)()}},function(t){var n;n=731,t(t.s=n)}]);