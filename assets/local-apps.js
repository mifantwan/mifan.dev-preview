(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[33],{121:function(t){const n={elements:new Map,intervals:new Map};function e(t,e=document){if(!n.elements.has(t)){const a=e.querySelector(t);return a&&n.elements.set(t,a),a}return n.elements.get(t)}function a(){n.elements.clear(),n.intervals.clear()}function i(){const t=e("#local-announcement section div")?.offsetWidth,a=e('#local-announcement div[class-type="animation"]');if(a&&t)if(a.classList.remove("animation__text-scroll","animation__text-roll"),t<1024){a.classList.add("animation__text-scroll");const t=e("#local-announcement .animation__text-scroll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent;const i='<span style="margin-left: 1.766rem;"></span>';t.innerHTML=t.dataset.originalContent+i+t.dataset.originalContent;t.querySelectorAll("li").forEach((t=>{t.style.display="inline-flex",t.style.opacity="1",t.style.transform="",t.style.transition=""}));const o=t.dataset.containerId;o&&n.intervals.has(o)&&(clearInterval(n.intervals.get(o)),n.intervals.delete(o));const l=t.scrollWidth/2;if(l>t.parentElement.offsetWidth){const n=Math.max(15,Math.min(60,l/50));t.style.animation=`text-scroll ${n}s linear infinite`}else t.style.animation="none",t.innerHTML=t.dataset.originalContent}else{a.classList.add("animation__text-roll");const t=e("#local-announcement .animation__text-roll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent,t.style.animation="none";const i=t.dataset.containerId;i&&n.intervals.has(i)&&(clearInterval(n.intervals.get(i)),n.intervals.delete(i)),function(t){const e=t.querySelectorAll("li"),a=e.length;if(0===a)return;const i=t.dataset.containerId||Math.random().toString(36);t.dataset.containerId=i,n.intervals.has(i)&&clearInterval(n.intervals.get(i));const o=Array.from(e).map(((t,n)=>({element:t,index:n})));if(o.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease-out, transform 0.6s ease-out"})),o[0]){const t=o[0].element;t.style.display="inline-flex",t.style.opacity="1",t.style.transform="translateY(0)"}let l=1;const s=setInterval((()=>{if(document.createDocumentFragment(),o.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",t.style.transform="translateY(20px)"})),o[l]){const t=o[l].element;t.style.display="inline-flex",t.style.opacity="1",t.style.transform="translateY(0)"}l=(l+1)%a}),2e3);n.intervals.set(i,s)}(t)}}function o(){n.intervals.forEach((t=>{clearInterval(t)})),a()}function l(t,n){let e;return function(...a){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t(...a)}),n)}}t.exports={initAnnouncement:function(){const t=l(i,100);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",l(i,200)),window.addEventListener("beforeunload",o)},refreshAnnouncement:function(){const t=e("#local-announcement .animation__text-scroll div, #local-announcement .animation__text-roll div");t&&(delete t.dataset.originalContent,a(),i())},cleanupAnnouncement:o}},245:function(t,n,e){"use strict";e.r(n)},731:function(t,n,e){"use strict";var a=e(121);e(245),(0,a.initAnnouncement)()}},function(t){var n;n=731,t(t.s=n)}]);