(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[33],{121:function(t){const n={elements:new Map,intervals:new Map};function e(t,e=document){if(!n.elements.has(t)){const a=e.querySelector(t);return a&&n.elements.set(t,a),a}return n.elements.get(t)}function a(){n.elements.clear(),n.intervals.clear()}function i(t,n){t.style.webkitTransform=n,t.style.transform=n}function o(t,n){t.style.webkitAnimation=n,t.style.animation=n}function l(){const t=e("#local-announcement section div")?.offsetWidth,a=e("#local-announcement div.animation");if(a&&t)if(a.classList.remove("animation__text-scroll","animation__text-roll"),t<1024){a.classList.add("animation__text-scroll");const t=e("#local-announcement .animation__text-scroll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent;const i='<span style="margin-left: 1.766rem;"></span>';t.innerHTML=t.dataset.originalContent+i+t.dataset.originalContent;t.querySelectorAll("li").forEach((t=>{t.style.display="inline-flex",t.style.opacity="1",t.style.transform="",t.style.webkitTransform="",t.style.transition="",t.style.webkitTransition=""}));const l=t.dataset.containerId;l&&n.intervals.has(l)&&(clearInterval(n.intervals.get(l)),n.intervals.delete(l));const s=t.scrollWidth/2;if(s>t.parentElement.offsetWidth){o(t,`text-scroll ${Math.max(15,Math.min(60,s/50))}s linear infinite`)}else o(t,"none"),t.innerHTML=t.dataset.originalContent}else{a.classList.add("animation__text-roll");const t=e("#local-announcement .animation__text-roll div");if(!t)return;t.dataset.originalContent||(t.dataset.originalContent=t.innerHTML),t.innerHTML=t.dataset.originalContent,o(t,"none");const l=t.dataset.containerId;l&&n.intervals.has(l)&&(clearInterval(n.intervals.get(l)),n.intervals.delete(l)),function(t){const e=t.querySelectorAll("li"),a=e.length;if(0===a)return;const o=t.dataset.containerId||Math.random().toString(36);t.dataset.containerId=o,n.intervals.has(o)&&clearInterval(n.intervals.get(o));const l=Array.from(e).map(((t,n)=>({element:t,index:n})));if(l.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",i(t,"translate3d(0, 20px, 0)"),function(t,n){t.style.webkitTransition=n,t.style.transition=n}(t,"opacity 0.6s ease-out, transform 0.6s ease-out")})),l[0]){const t=l[0].element;t.style.display="inline-flex",t.style.opacity="1",i(t,"translate3d(0, 0, 0)")}let s=1;const r=setInterval((()=>{if(document.createDocumentFragment(),l.forEach((({element:t})=>{t.style.display="none",t.style.opacity="0",i(t,"translate3d(0, 20px, 0)")})),l[s]){const t=l[s].element;t.style.display="inline-flex",t.style.opacity="1",i(t,"translate3d(0, 0, 0)")}s=(s+1)%a}),2e3);n.intervals.set(o,r)}(t)}}function s(){n.intervals.forEach((t=>{clearInterval(t)})),a()}function r(t,n){let e;return function(...a){clearTimeout(e),e=setTimeout((()=>{clearTimeout(e),t(...a)}),n)}}t.exports={initAnnouncement:function(){const t=r(l,100);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",r((()=>{setTimeout(l,300)}),200)),window.addEventListener("beforeunload",s)},refreshAnnouncement:function(){const t=e("#local-announcement .animation__text-scroll div, #local-announcement .animation__text-roll div");t&&(delete t.dataset.originalContent,a(),l())},cleanupAnnouncement:s}},245:function(t,n,e){"use strict";e.r(n)},731:function(t,n,e){"use strict";var a=e(121);e(245),(0,a.initAnnouncement)()}},function(t){var n;n=731,t(t.s=n)}]);