(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[33],{245:function(e,t,n){"use strict";n.r(t)},376:function(e){const t={initialized:!1,lastHeight:0,lastWidth:0,lastViewportHeight:0,lastScrollY:0,elements:new Map,timeouts:new Set,measurementRetries:0},n=e=>{if(!t.elements.has(e)){const n=document.getElementById(e);return n&&t.elements.set(e,n),n}return t.elements.get(e)},i=(e,n)=>{let i;return(...o)=>{clearTimeout(i),i=setTimeout((()=>e(...o)),n),t.timeouts.add(i)}},o=()=>{const e=window.visualViewport;return e?[Math.round(e.width),Math.round(e.height)]:[Math.round(window.innerWidth),Math.round(window.innerHeight)]},s=()=>{const e=n("local-announcements"),t=n("local-topnavs");if(!e&&!t)return 0;let i=0;if(e&&t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();(n.height>0||o.height>0)&&(i=Math.max(n.bottom,o.bottom))}else if(e){const t=e.getBoundingClientRect();t.height>0&&(i=t.bottom)}else if(t){const e=t.getBoundingClientRect();e.height>0&&(i=e.bottom)}const o=Math.max(0,Math.round(i));if(0===o&&(e||t)){const e=document.documentElement.clientHeight,t=window.innerHeight;return Math.min(e,t),0}return o},a=(e=!1)=>{const[i,l]=o(),r=Math.round(window.pageYOffset||document.documentElement.scrollTop);if(!e&&Math.abs(t.lastWidth-i)<2&&Math.abs(t.lastViewportHeight-l)<2&&Math.abs(t.lastScrollY-r)<2)return;const d=s();if(d<=0&&(n("local-announcements")||n("local-topnavs"))){if(t.measurementRetries<5){t.measurementRetries++;const n=setTimeout((()=>{t.measurementRetries=0,a(e)}),50*t.measurementRetries);return void t.timeouts.add(n)}t.measurementRetries=0}else t.measurementRetries=0;t.lastHeight=d,t.lastWidth=i,t.lastViewportHeight=l,t.lastScrollY=r;const c=Math.max(0,d),u=`calc(100dvh - ${c}px)`;document.documentElement.style.setProperty("--aside-top-position",`${c}px`),document.documentElement.style.setProperty("--aside-height",u);const m=document.querySelectorAll("aside");for(let e=0;e<m.length;e++){const t=m[e],n=t.style.transition;t.style.transition="none",t.classList.add("aside--positioned"),requestAnimationFrame((()=>{t.style.transition=n}))}},l=()=>{const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){const n=e[t],i=n.getAttribute("data-sidenav");n.classList.remove("aside--open"),n.classList.add("left"===i?"aside--closed-left":"aside--closed-right")}let n=0;const i=()=>{a(!0);if(s()<=0&&n<5){n++;const e=setTimeout(i,100*n);t.timeouts.add(e)}else t.initialized=!0,r(),setTimeout((()=>a(!0)),50)};i()},r=()=>{document.addEventListener("click",d)},d=e=>{const t=e.target;if(t.closest('button[aside-action="close"]')){e.preventDefault();const n=t.closest("aside");if(!n)return;const i=n.getAttribute("data-sidenav");return n.classList.remove("aside--open"),void n.classList.add("left"===i?"aside--closed-left":"aside--closed-right")}const n=t.closest('[aside-action="open"]');if(n){e.preventDefault();const t=n.getAttribute("aside-id"),i=document.getElementById(t);if(!i)return;const o=document.querySelectorAll("aside");for(let e=0;e<o.length;e++){const n=o[e];if(n.id!==t){const e=n.getAttribute("data-sidenav");n.classList.remove("aside--open"),n.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}}i.classList.remove("aside--closed-left","aside--closed-right"),i.classList.add("aside--open")}},c=i((()=>{if(!t.initialized)return;a(!0);const e=document.querySelectorAll("aside");for(let t=0;t<e.length;t++){const n=e[t];if(!n.classList.contains("aside--open")){const e=n.getAttribute("data-sidenav");n.classList.remove("aside--open"),n.classList.add("left"===e?"aside--closed-left":"aside--closed-right")}}}),100),u=i((()=>{if(!t.initialized)return;const[e,n]=o(),i=Math.round(window.pageYOffset||document.documentElement.scrollTop),s=Math.abs(t.lastWidth-e),l=Math.abs(t.lastViewportHeight-n),r=Math.abs(t.lastScrollY-i);(s>2||l>5||r>5)&&a(!0)}),50),m=()=>{t.elements.clear(),t.timeouts.forEach(clearTimeout),t.timeouts.clear(),t.initialized=!1,t.lastHeight=0,t.lastWidth=0,t.lastViewportHeight=0,t.lastScrollY=0,t.measurementRetries=0,document.removeEventListener("click",d),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",c),window.removeEventListener("scroll",u),window.visualViewport&&(window.visualViewport.removeEventListener("resize",u),window.visualViewport.removeEventListener("scroll",u))};window.addEventListener("beforeunload",m),window.addEventListener("resize",c),window.addEventListener("orientationchange",c),window.addEventListener("scroll",u),window.addEventListener("load",(()=>{const e=()=>{t.initialized&&a(!0)},n=setTimeout(e,100);t.timeouts.add(n);const i=setTimeout(e,300);t.timeouts.add(i);const o=setTimeout(e,500);t.timeouts.add(o)})),window.visualViewport&&(window.visualViewport.addEventListener("resize",u),window.visualViewport.addEventListener("scroll",u),window.visualViewport.addEventListener("resize",(()=>{setTimeout((()=>a(!0)),50)}))),e.exports={initAside:()=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()},cleanupAside:m}},547:function(e){const t={elements:new Map,scrollThreshold:16,isScrolled:!1},n=/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,!0)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function s(e,n=document){if(!t.elements.has(e)){const i=n.querySelector(e);return i&&t.elements.set(e,i),i}return t.elements.get(e)}function a(e){e.offsetHeight;const t=window.getComputedStyle(e),n=t.top;"sticky"===t.position&&(e.style.top=n)}function l(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}}function r(){const e=s("#local-topnavs");if(e){e&&(t=e,(n||i)&&(t.style.webkitTransform="translateZ(0)",t.style.transform="translateZ(0)",t.style.webkitOverflowScrolling="touch",t.style.webkitTextSizeAdjust="100%",t.style.textSizeAdjust="100%"));const s=l((()=>{d()}),n?16:10),a=!!o&&{passive:!0};window.addEventListener("scroll",s,a),n&&window.addEventListener("orientationchange",l((()=>{setTimeout((()=>{d()}),100)}),300)),d()}var t}function d(){const e=(window.pageYOffset||document.documentElement.scrollTop)>t.scrollThreshold;if(e!==t.isScrolled){t.isScrolled=e;const n=s("#local-topnavs");n&&function(e,t){a(e),t?e.classList.add("scrolled"):e.classList.remove("scrolled");a(e)}(n,e)}}function c(){t.elements.clear()}window.addEventListener("beforeunload",c),n&&document.addEventListener("visibilitychange",(()=>{if(document.hidden){document.querySelectorAll("#local-topnavs").forEach((e=>{e.style.transition="none"}))}else{document.querySelectorAll("#local-topnavs").forEach((e=>{e.style.transition=""}))}})),e.exports={initNavigations:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{r()})):r()},cleanupNavigations:c}},628:function(e,t,n){"use strict";var i=n(547),o=n(376);n(245),(()=>{function e(){document.querySelectorAll('[data-class="animation"]').forEach(((e,t)=>{const n=parseInt(e.getAttribute("data-animation-time"))||3e3,i=e.querySelectorAll("small");if(i.length<=1)return;let o=0;i.forEach(((e,t)=>{e.style.opacity=0===t?"1":"0",e.style.transition="opacity 0.5s ease-in-out"}));setInterval((()=>{i[o].style.opacity="0",o=(o+1)%i.length,i[o].style.opacity="1"}),n)})),n(),window.addEventListener("resize",t(n,150)),window.addEventListener("orientationchange",t((()=>{setTimeout(n,300)}),500))}function t(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}}function n(){const e=document.querySelector("#local-announcements"),t=document.querySelector("#local-topnavs");if(e&&t){const n=e.offsetHeight;document.documentElement.style.setProperty("--announcement-height",`${n}px`),e.offsetHeight,t.offsetHeight,t.style.top=`${n}px`,window.innerWidth<=768&&setTimeout((()=>{const n=e.offsetHeight;document.documentElement.style.setProperty("--announcement-height",`${n}px`),t.style.top=`${n}px`}),100)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})(),(0,i.initNavigations)(),(0,o.initAside)()}},function(e){var t;t=628,e(e.s=t)}]);