"use strict";(self.webpackChunkmifan_themes=self.webpackChunkmifan_themes||[]).push([[945],{453:function(){const e=()=>{if("loading"===document.readyState)return void document.addEventListener("DOMContentLoaded",e);const a=document.querySelector("#local-preloader");if(!a)return void console.warn("Preloader element #local-preloader not found");const o=document.querySelectorAll('img, video, audio, iframe, object, embed, script, link[rel="stylesheet"]'),d=o.length;let l=0,t=new Set;if(console.log(`Preloader: Found ${d} assets to monitor`),0===d)return a.classList.add("local-preload--loaded"),void console.log("Preloader: No assets found, marking as loaded");o.forEach(((e,a)=>{t.add(a)}));const s=(e,o,s="loaded")=>{t.has(e)&&(t.delete(e),l++,console.log(`Preloader: ${o} ${e+1}/${d} ${s} (${l}/${d})`),"failed"===s&&console.warn(`Preloader: Asset failed - ${asset.src||asset.href||"unknown"}`),l===d&&(a.classList.add("local-preload--loaded"),console.log("Preloader: All assets loaded successfully")))};o.forEach(((e,a)=>{"SCRIPT"===e.tagName?e.complete||"complete"===e.readyState||"loaded"===e.readyState?s(a,"Script","already loaded"):(e.addEventListener("load",(()=>s(a,"Script"))),e.addEventListener("error",(()=>s(a,"Script","failed")))):"LINK"===e.tagName&&"stylesheet"===e.rel?e.sheet?s(a,"Stylesheet","already loaded"):(e.addEventListener("load",(()=>s(a,"Stylesheet"))),e.addEventListener("error",(()=>s(a,"Stylesheet","failed")))):e.complete||"complete"===e.readyState||"loaded"===e.readyState?s(a,"Media asset","already loaded"):(e.addEventListener("load",(()=>s(a,"Media asset"))),e.addEventListener("error",(()=>s(a,"Media asset","failed"))))})),setTimeout((()=>{a.classList.contains("local-preload--loaded")||(console.warn("Preloader: Timeout reached, forcing completion"),console.warn(`Preloader: ${t.size} assets still pending:`,Array.from(t).map((e=>{const a=o[e];return{index:e,tagName:a.tagName,src:a.src||a.href||"unknown",type:a.type||"unknown"}}))),a.classList.add("local-preload--loaded"),console.log("Preloader: Forced completion due to timeout"))}),8e3),window.addEventListener("load",(()=>{setTimeout((()=>{a.classList.contains("local-preload--loaded")||(console.warn("Preloader: Window load completed, forcing remaining assets"),a.classList.add("local-preload--loaded"))}),1e3)}))};e()}},function(e){var a;a=453,e(e.s=a)}]);